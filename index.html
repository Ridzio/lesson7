
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¢—Ä–µ–Ω–∞–∂—ë—Ä ‚Äî Standalone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap');
      body {
        font-family: 'Nunito', sans-serif;
        background-color: #f0f9ff;
        color: #1a202c;
      }
      .glass-effect {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.4);
      }
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      .task-card {
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease;
      }
      .task-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.15);
      }
      .animate-bounce-light {
        animation: bounce 2s infinite;
      }
      @keyframes bounce {
        0%, 100% { transform: translateY(-5%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
        50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
      }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // --- –ò–∫–æ–Ω–∫–∏ ---
      const GlassIcon = ({ type, className = "w-12 h-12" }) => {
        const color = type === 'water' ? '#bae6fd' : '#f87171';
        return (
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" className={className}>
            <path d="M19 4H5L6 20C6 21.1046 6.89543 22 8 22H16C17.1046 22 18 21.1046 18 20L19 4Z" stroke="currentColor" strokeWidth="2" strokeLinejoin="round"/>
            <path d="M6 10H18" stroke="currentColor" strokeWidth="2" strokeLinecap="round"/>
            <path d="M18 10L17.5 18H6.5L6 10H18Z" fill={color} />
            <path d="M8 2H16" stroke="currentColor" strokeWidth="2" strokeLinecap="round"/>
          </svg>
        );
      };

      // --- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–¥–∞—á–∏ ---
      const TaskCard = ({ taskNumber, description, children, onCheck, isCorrect, onReset }) => {
        return (
          <div className="bg-white rounded-[3rem] shadow-2xl overflow-hidden mb-12 task-card border-t-[12px] border-blue-500 relative">
            {isCorrect === true && (
              <div className="absolute top-6 right-8 text-4xl animate-bounce">‚≠ê</div>
            )}
            <div className="p-8 md:p-12">
              <div className="flex items-center gap-6 mb-10">
                <div className="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-[1.5rem] flex items-center justify-center font-black text-3xl shadow-xl transform rotate-3">
                  {taskNumber}
                </div>
                <h2 className="text-4xl font-black text-gray-800 tracking-tighter">–ó–∞–¥–∞–Ω–∏–µ {taskNumber}</h2>
              </div>
              <p className="text-gray-600 text-xl mb-12 leading-relaxed whitespace-pre-line font-bold">
                {description}
              </p>
              <div className="mb-12">{children}</div>
              <div className="flex flex-col sm:flex-row gap-6">
                <button
                  onClick={onCheck}
                  className={`flex-1 py-6 px-12 rounded-[2rem] font-black text-2xl transition-all duration-300 transform active:scale-95 shadow-2xl ${
                    isCorrect === true 
                      ? 'bg-green-500 text-white hover:bg-green-600 shadow-green-200' 
                      : isCorrect === false
                      ? 'bg-red-500 text-white hover:bg-red-600 shadow-red-200'
                      : 'bg-blue-600 text-white hover:bg-blue-700 shadow-blue-300'
                  }`}
                >
                  {isCorrect === true ? '–ü–†–ê–í–ò–õ–¨–ù–û! ‚ú®' : isCorrect === false ? '–ï–©–Å –†–ê–ó! ‚ùå' : '–ü–†–û–í–ï–†–ò–¢–¨'}
                </button>
                {onReset && (
                  <button
                    onClick={onReset}
                    className="py-6 px-10 rounded-[2rem] font-black text-lg bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600 transition-all duration-300"
                  >
                    –°–ë–†–û–°–ò–¢–¨
                  </button>
                )}
              </div>
            </div>
          </div>
        );
      };

      // --- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ---
      const App = () => {
        const [taskStates, setTaskStates] = useState({});
        const [taskFeedback, setTaskFeedback] = useState({});

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
        useEffect(() => {
          localStorage.clear();
          const handleUnload = () => localStorage.clear();
          window.addEventListener('beforeunload', handleUnload);
          return () => window.removeEventListener('beforeunload', handleUnload);
        }, []);

        const updateTaskState = (id, val) => {
          const newState = { ...taskStates, [id]: val };
          setTaskStates(newState);
          setTaskFeedback(prev => ({ ...prev, [id]: null }));
        };

        const checkTask = (id) => {
          const state = taskStates[id];
          let correct = false;

          switch (id) {
            case 1:
              const v1 = [state?.v1, state?.v2, state?.v3].map(v => parseInt(v)).sort();
              correct = JSON.stringify(v1) === JSON.stringify([31, 62, 93]);
              break;
            case 2:
              const v2 = [parseInt(state?.v1), parseInt(state?.v2)].sort();
              correct = JSON.stringify(v2) === JSON.stringify([4, 6]);
              break;
            case 3: correct = parseInt(state) === 10; break;
            case 4: correct = parseInt(state) === 7; break;
            case 5:
              const v5 = [parseInt(state?.v1), parseInt(state?.v2)].sort();
              correct = JSON.stringify(v5) === JSON.stringify([3, 6]);
              break;
            case 6:
              const p1_6 = (state?.water === 3 && state?.juice === 9);
              if (p1_6) {
                if (parseInt(state?.mors) === 12) correct = true;
                else {
                  if (!state?.part1Verified) updateTaskState(6, { ...state, part1Verified: true });
                  correct = false;
                }
              }
              break;
            case 7: correct = parseInt(state) === 15; break;
            case 8:
              const p1_8 = state?.white === 1 && state?.green === 2 && parseInt(state?.total) === 3;
              if (p1_8) {
                if (state?.part1Verified) {
                  correct = state?.p2_count === 4 && parseInt(state?.p2_ans) === 8;
                } else {
                  updateTaskState(8, { ...state, part1Verified: true, p2_count: 0 });
                  correct = false;
                }
              }
              break;
            case 9: correct = parseInt(state) === 18; break;
            case 10:
              const v10 = [parseInt(state?.v1), parseInt(state?.v2)].sort();
              correct = JSON.stringify(v10) === JSON.stringify([4, 7]);
              break;
            case 11: correct = parseInt(state?.v1) === 60 && parseInt(state?.v2) === 15; break;
            case 12: correct = parseInt(state?.v1) === 1 && parseInt(state?.v2) === 16; break;
            case 13:
              const r1 = [parseInt(state?.r1v1), parseInt(state?.r1v2)].sort();
              const r2 = [parseInt(state?.r2v1), parseInt(state?.r2v2)].sort();
              const sols = [[3, 8], [4, 9]];
              const m1 = JSON.stringify(r1) === JSON.stringify(sols[0]) && JSON.stringify(r2) === JSON.stringify(sols[1]);
              const m2 = JSON.stringify(r1) === JSON.stringify(sols[1]) && JSON.stringify(r2) === JSON.stringify(sols[0]);
              correct = m1 || m2;
              break;
            case 14: correct = parseInt(state?.v1) === 35 && parseInt(state?.v2) === 9; break;
          }

          setTaskFeedback(prev => ({ ...prev, [id]: correct }));
        };

        const progress = Object.values(taskFeedback).filter(v => v === true).length;
        const total = 14;

        return (
          <div className="max-w-5xl mx-auto px-6 py-12">
            {/* –•–µ–¥–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ */}
            <header className="sticky top-6 z-50 glass-effect p-8 rounded-[3.5rem] shadow-2xl border-2 border-white/50 mb-20 flex flex-col md:flex-row items-center justify-between gap-10">
              <div className="text-center md:text-left">
                <h1 className="text-4xl md:text-5xl font-black text-blue-900 leading-none mb-3 tracking-tighter">–°–£–ü–ï–† –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê</h1>
                <p className="text-blue-500 font-black text-xl tracking-widest uppercase italic tracking-tighter">–¢–≤–æ–π –ú–∞—Å—Ç–µ—Ä-–¢—Ä–µ–Ω–∞–∂—ë—Ä</p>
              </div>
              <div className="w-full md:w-80 bg-white/60 p-6 rounded-[2.5rem] border-2 border-blue-100 shadow-inner">
                <div className="flex justify-between mb-3 text-sm font-black text-blue-800 uppercase italic">
                  <span>–¢–≤–æ–π –ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                  <span>{Math.round((progress/total)*100)}%</span>
                </div>
                <div className="h-5 bg-blue-100 rounded-full overflow-hidden border-2 border-blue-200">
                  <div className="h-full bg-gradient-to-r from-blue-400 to-blue-700 transition-all duration-1000 ease-out shadow-lg" style={{ width: `${(progress/total)*100}%` }}></div>
                </div>
                <p className="mt-3 text-center text-blue-400 font-bold text-xs uppercase italic tracking-widest">–ó–∞–¥–∞—á: {progress} / {total}</p>
              </div>
            </header>

            <main className="space-y-24">
              {/* –ó–∞–¥–∞—á–∞ 1 */}
              <TaskCard taskNumber={1} description="–ù–∞–π–¥–∏ –≤—Å–µ –¥–≤—É–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞, —É –∫–æ—Ç–æ—Ä—ã—Ö —á–∏—Å–ª–æ –¥–µ—Å—è—Ç–∫–æ–≤ –≤ 3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —á–∏—Å–ª–∞ –µ–¥–∏–Ω–∏—Ü." isCorrect={taskFeedback[1]} onCheck={() => checkTask(1)}>
                <div className="grid grid-cols-1 sm:grid-cols-3 gap-8">
                  {[1, 2, 3].map(i => (
                    <input key={i} type="number" placeholder="–ß–ò–°–õ–û" value={taskStates[1]?.[`v${i}`] || ''} onChange={e => updateTaskState(1, { ...taskStates[1], [`v${i}`]: e.target.value })} className="p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 focus:outline-none text-gray-900 shadow-sm transition-all focus:scale-105"/>
                  ))}
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 2 */}
              <TaskCard taskNumber={2} description="–ú–∏—Å—Ç–µ—Ä –¢—Ä—É–¥–¥–∏ –∑–∞–¥—É–º–∞–ª –¥–≤–∞ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–ª–∞, –æ–¥–Ω–æ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞ 2 –±–æ–ª—å—à–µ –¥—Ä—É–≥–æ–≥–æ. –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —ç—Ç–∏—Ö —á–∏—Å–µ–ª —Ä–∞–≤–Ω–æ 24." isCorrect={taskFeedback[2]} onCheck={() => checkTask(2)}>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-8 max-w-2xl mx-auto">
                   <div className="space-y-2"><p className="text-xs font-black text-blue-400 ml-4 uppercase tracking-widest">–ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ</p><input type="number" value={taskStates[2]?.v1 || ''} onChange={e => updateTaskState(2, { ...taskStates[2], v1: e.target.value })} className="w-full p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 outline-none"/></div>
                   <div className="space-y-2"><p className="text-xs font-black text-blue-400 ml-4 uppercase tracking-widest">–í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ</p><input type="number" value={taskStates[2]?.v2 || ''} onChange={e => updateTaskState(2, { ...taskStates[2], v2: e.target.value })} className="w-full p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 outline-none"/></div>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 3 */}
              <TaskCard taskNumber={3} description="–ß—Ç–æ–±—ã —Å–≤–∞—Ä–∏—Ç—å –æ–¥–Ω—É –ø–æ—Ä—Ü–∏—é –≤–∏—à–Ω—ë–≤–æ–≥–æ –≤–∞—Ä–µ–Ω—å—è, –º–∞–¥–∞–º –†–æ–∑–∞ –±–µ—Ä—ë—Ç 1 –∫–≥ —Å–∞—Ö–∞—Ä–∞ –∏ 2 –∫–≥ –≤–∏—à–Ω–∏. –°–∫–æ–ª—å–∫–æ –∫–≥ –≤–∏—à–Ω–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –≤–∞—Ä–µ–Ω—å—è –∏–∑ 5 –∫–≥ —Å–∞—Ö–∞—Ä–∞?" isCorrect={taskFeedback[3]} onCheck={() => checkTask(3)}>
                <div className="flex flex-col sm:flex-row items-center justify-center gap-6">
                  <input type="number" placeholder="?" value={taskStates[3] || ''} onChange={e => updateTaskState(3, e.target.value)} className="w-48 p-8 text-center text-5xl font-black bg-purple-50 border-4 border-purple-100 rounded-[2.5rem] text-purple-700 outline-none focus:border-purple-500"/>
                  <span className="text-2xl font-black text-gray-400 uppercase italic">–∫–≥ –≤–∏—à–Ω–∏</span>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 4 */}
              <TaskCard taskNumber={4} description="–ß—Ç–æ–±—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∂–µ–º, –û–ª–∏–≤–∏—è –±–µ—Ä—ë—Ç 1 –∫–≥ —Å–∞—Ö–∞—Ä–∞ –∏ 2 –∫–≥ –ø–µ—Ä—Å–∏–∫–æ–≤. –°–∫–æ–ª—å–∫–æ –∫–≥ —Å–∞—Ö–∞—Ä–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –û–ª–∏–≤–∏–∏ –¥–ª—è –¥–∂–µ–º–∞ –∏–∑ 14 –∫–≥ –ø–µ—Ä—Å–∏–∫–æ–≤?" isCorrect={taskFeedback[4]} onCheck={() => checkTask(4)}>
                <div className="flex flex-col sm:flex-row items-center justify-center gap-6">
                  <input type="number" placeholder="?" value={taskStates[4] || ''} onChange={e => updateTaskState(4, e.target.value)} className="w-48 p-8 text-center text-5xl font-black bg-orange-50 border-4 border-orange-100 rounded-[2.5rem] text-orange-700 outline-none focus:border-orange-500"/>
                  <span className="text-2xl font-black text-gray-400 uppercase italic">–∫–≥ —Å–∞—Ö–∞—Ä–∞</span>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 5 */}
              <TaskCard taskNumber={5} description="–§–ª–∞–π –∑–∞–¥—É–º–∞–ª–∞ –¥–≤–∞ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–ª–∞, –æ–¥–Ω–æ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤ –¥–≤–∞ —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –¥—Ä—É–≥–æ–≥–æ. –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —ç—Ç–∏—Ö —á–∏—Å–µ–ª —Ä–∞–≤–Ω–æ 18." isCorrect={taskFeedback[5]} onCheck={() => checkTask(5)}>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-8 max-w-2xl mx-auto">
                   <div className="space-y-2"><p className="text-xs font-black text-blue-400 ml-4 uppercase tracking-widest">–ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ</p><input type="number" value={taskStates[5]?.v1 || ''} onChange={e => updateTaskState(5, { ...taskStates[5], v1: e.target.value })} className="w-full p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 outline-none"/></div>
                   <div className="space-y-2"><p className="text-xs font-black text-blue-400 ml-4 uppercase tracking-widest">–í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ</p><input type="number" value={taskStates[5]?.v2 || ''} onChange={e => updateTaskState(5, { ...taskStates[5], v2: e.target.value })} className="w-full p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 outline-none"/></div>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 6 */}
              <TaskCard taskNumber={6} description="–ù–∞ 1 —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã ‚Äî 3 —Å—Ç–∞–∫–∞–Ω–∞ —Å–æ–∫–∞. –í–∑—è–ª–∏ 9 —Å—Ç–∞–∫–∞–Ω–æ–≤ —Å–æ–∫–∞. –ü–æ–∫–∞–∂–∏ –Ω–∞ —Å—Ö–µ–º–µ –≤–æ–¥—É –∏ —Å–æ–∫." isCorrect={taskFeedback[6]} onCheck={() => checkTask(6)} onReset={() => updateTaskState(6, {})}>
                <div className="space-y-10">
                  <div className="bg-blue-50 p-10 rounded-[3rem] border-2 border-blue-100 shadow-inner">
                    <p className="font-black text-blue-800 mb-8 uppercase text-xl tracking-widest italic">–°–¢–ê–ö–ê–ù–´ –í–û–î–´ ({taskStates[6]?.water || 0})</p>
                    <div className="flex flex-wrap gap-4">{Array.from({length: 12}).map((_, i) => <button key={i} onClick={() => updateTaskState(6, {...taskStates[6], water: i+1})} className={`transition-all duration-300 transform hover:scale-110 active:scale-90 ${i < (taskStates[6]?.water||0) ? 'opacity-100 scale-105' : 'opacity-20 grayscale'}`}><GlassIcon type="water" className="w-16 h-16"/></button>)}</div>
                  </div>
                  <div className="bg-red-50 p-10 rounded-[3rem] border-2 border-red-100 shadow-inner">
                    <p className="font-black text-red-800 mb-8 uppercase text-xl tracking-widest italic">–°–¢–ê–ö–ê–ù–´ –°–û–ö–ê ({taskStates[6]?.juice || 0})</p>
                    <div className="flex flex-wrap gap-4">{Array.from({length: 12}).map((_, i) => <button key={i} onClick={() => updateTaskState(6, {...taskStates[6], juice: i+1})} className={`transition-all duration-300 transform hover:scale-110 active:scale-90 ${i < (taskStates[6]?.juice||0) ? 'opacity-100 scale-105' : 'opacity-20 grayscale'}`}><GlassIcon type="juice" className="w-16 h-16"/></button>)}</div>
                  </div>
                  {taskStates[6]?.part1Verified && (
                    <div className="p-12 bg-gradient-to-br from-blue-600 to-blue-900 rounded-[3.5rem] text-white animate-in zoom-in duration-500 shadow-2xl border-4 border-blue-400">
                      <p className="mb-8 font-black text-2xl tracking-tight leading-none">–£—Å–ø–µ—Ö! –¢–µ–ø–µ—Ä—å –ø–æ—Å—á–∏—Ç–∞–π:<br/><span className="text-blue-200 text-lg font-bold">–°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ —Å—Ç–∞–∫–∞–Ω–æ–≤ –º–æ—Ä—Å–∞ –ø–æ–ª—É—á–∏—Ç—Å—è?</span></p>
                      <div className="flex flex-col sm:flex-row items-center gap-8">
                        <span className="font-black text-3xl italic tracking-widest uppercase">–ò–¢–û–ì–û:</span>
                        <input type="number" placeholder="?" value={taskStates[6]?.mors || ''} onChange={e => updateTaskState(6, {...taskStates[6], mors: e.target.value})} className="w-40 p-6 text-center rounded-3xl text-blue-900 font-black text-4xl outline-none border-4 border-blue-300 shadow-lg"/>
                        <span className="font-black text-xl text-blue-100">–°–¢–ê–ö–ê–ù–û–í</span>
                      </div>
                    </div>
                  )}
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 7 */}
              <TaskCard taskNumber={7} description="–ú–∏—Å—Ç–µ—Ä –¢—Ä—É–¥–¥–∏ –¥–µ–ª–∞–µ—Ç –≥–æ–ª—É–±—É—é –∫—Ä–∞—Å–∫—É, —Å–º–µ—à–∏–≤–∞—è 1 –∫–≥ —Å–∏–Ω–µ–π –∏ 4 –∫–≥ –±–µ–ª–æ–π –∫—Ä–∞—Å–∫–∏. –°–∫–æ–ª—å–∫–æ –∫–≥ –≥–æ–ª—É–±–æ–π –∫—Ä–∞—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç—Å—è –∏–∑ 12 –∫–≥ –±–µ–ª–æ–π?" isCorrect={taskFeedback[7]} onCheck={() => checkTask(7)}>
                <div className="flex flex-col sm:flex-row items-center justify-center gap-6">
                  <input type="number" placeholder="?" value={taskStates[7] || ''} onChange={e => updateTaskState(7, e.target.value)} className="w-48 p-8 text-center text-5xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] text-blue-600 outline-none focus:border-blue-500"/>
                  <span className="text-2xl font-black text-gray-400 uppercase italic">–∫–≥ –∫—Ä–∞—Å–∫–∏</span>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 8 */}
              <TaskCard taskNumber={8} description="–°–∞–ª–∞—Ç–æ–≤—ã–π —Ü–≤–µ—Ç: 1 –∫–≥ –±–µ–ª–æ–π –∏ 2 –∫–≥ –∑–µ–ª–µ–Ω–æ–π. –ü–æ–∫–∞–∂–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏—é –¥–ª—è –æ–¥–Ω–æ–π –ø–æ—Ä—Ü–∏–∏ (3 –∫–≥)." isCorrect={taskFeedback[8]} onCheck={() => checkTask(8)} onReset={() => updateTaskState(8, {})}>
                <div className="space-y-16">
                  <div className="flex flex-col md:flex-row gap-12 items-start">
                    <div className="flex-1 space-y-8">
                      <div className="flex gap-6">
                        <button onClick={() => updateTaskState(8, {...taskStates[8], white: (taskStates[8]?.white||0)+1})} className="bg-white border-4 border-gray-100 px-8 py-3 rounded-2xl text-lg font-black text-gray-700 shadow-md hover:border-blue-400 hover:scale-105 transition-all">+ –ë–ï–õ–ê–Ø</button>
                        <button onClick={() => updateTaskState(8, {...taskStates[8], green: (taskStates[8]?.green||0)+1})} className="bg-green-100 text-green-700 border-4 border-green-200 px-8 py-3 rounded-2xl text-lg font-black shadow-md hover:bg-green-300 hover:scale-105 transition-all">+ –ó–ï–õ–ï–ù–ê–Ø</button>
                      </div>
                      <div className="flex flex-wrap gap-4 p-10 bg-white rounded-[3rem] border-4 border-dashed border-gray-100 min-h-[160px] shadow-inner items-center justify-center">
                        {Array.from({length: taskStates[8]?.white||0}).map((_,i)=><div key={`w${i}`} className="w-16 h-16 bg-white border-4 border-gray-100 rounded-2xl shadow-xl transform rotate-6 animate-in zoom-in"></div>)}
                        {Array.from({length: taskStates[8]?.green||0}).map((_,i)=><div key={`g${i}`} className="w-16 h-16 bg-green-400 border-4 border-green-500 rounded-2xl shadow-xl transform -rotate-6 animate-in zoom-in"></div>)}
                      </div>
                    </div>
                    <div className="w-full md:w-56 text-center">
                      <p className="text-sm font-black text-gray-400 mb-4 tracking-[0.2em] uppercase italic">–ú–∞—Å—Å–∞ (–∫–≥)</p>
                      <input type="number" value={taskStates[8]?.total || ''} onChange={e => updateTaskState(8, {...taskStates[8], total: e.target.value})} className="w-full p-10 text-center text-5xl font-black bg-lime-50 rounded-[3rem] text-lime-700 border-4 border-lime-200 outline-none shadow-xl"/>
                    </div>
                  </div>
                  {taskStates[8]?.part1Verified && (
                    <div className="pt-16 border-t-8 border-dashed border-gray-100 space-y-12 animate-in slide-in-from-bottom-12 duration-700">
                      <div className="text-center md:text-left">
                        <p className="font-black text-gray-800 text-3xl mb-4 tracking-tight leading-none">–ú–∏—Å—Ç–µ—Ä—É –¢—Ä—É–¥–¥–∏ –Ω—É–∂–Ω–æ 12 –∫–≥ –∫—Ä–∞—Å–∫–∏!</p>
                        <p className="text-lime-600 font-black text-xl uppercase italic tracking-widest">–í—ã–±–µ—Ä–∏ –±–∞–Ω–∫–∏ –ø–æ 3 –∫–≥ (–Ω–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏):</p>
                      </div>
                      <div className="flex gap-6 flex-wrap justify-center bg-lime-50/50 p-10 rounded-[3.5rem]">
                         {Array.from({length: 6}).map((_, i) => (
                           <button key={i} onClick={() => updateTaskState(8, {...taskStates[8], p2_count: Math.min(6, (taskStates[8]?.p2_count||0)+1)})} className={`w-24 h-32 bg-lime-400 border-[8px] border-lime-500 rounded-[2rem] flex flex-col items-center justify-center font-black text-white shadow-2xl transition-all duration-300 ${i < (taskStates[8]?.p2_count||0) ? 'opacity-10 grayscale-50 scale-90 rotate-12 pointer-events-none' : 'hover:scale-110 active:scale-90'}`}>
                             <span className="text-4xl">3</span>
                             <span className="text-sm uppercase tracking-tighter">–∫–≥</span>
                           </button>
                         ))}
                      </div>
                      <div className="p-12 bg-white rounded-[4rem] space-y-10 border-4 border-blue-500 shadow-2xl relative overflow-hidden">
                        <p className="font-black text-blue-900 text-2xl leading-tight relative z-10 italic">–ù–∞–π–¥–∏, —Å–∫–æ–ª—å–∫–æ –ó–ï–õ–ï–ù–û–ô –∫—Ä–∞—Å–∫–∏ –≤ 12 –∫–≥ —Å–∞–ª–∞—Ç–æ–≤–æ–π:</p>
                        <div className="flex flex-col xl:flex-row gap-8 items-center relative z-10">
                          <input type="text" placeholder="–í–´–†–ê–ñ–ï–ù–ò–ï" value={taskStates[8]?.p2_expr || ''} onChange={e => updateTaskState(8, {...taskStates[8], p2_expr: e.target.value})} className="w-full xl:flex-1 p-7 border-4 border-blue-100 rounded-[2.5rem] text-gray-900 font-black text-3xl text-center outline-none focus:border-blue-500 shadow-inner"/>
                          <span className="text-6xl font-black text-blue-200">=</span>
                          <div className="flex items-center gap-6 w-full xl:w-auto">
                            <input type="number" placeholder="?" value={taskStates[8]?.p2_ans || ''} onChange={e => updateTaskState(8, {...taskStates[8], p2_ans: e.target.value})} className="flex-1 xl:w-40 p-7 border-4 border-blue-100 rounded-[2.5rem] text-gray-900 text-center font-black text-5xl outline-none focus:border-blue-500 shadow-inner"/>
                            <span className="font-black text-3xl text-blue-500 uppercase italic tracking-tighter">–∫–≥</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 9 */}
              <TaskCard taskNumber={9} description="–î–ª—è –æ—Ä–µ—Ö–æ–≤–æ–π —Å–º–µ—Å–∏: 1 –∫–≥ –º–∏–Ω–¥–∞–ª—è –∏ 2 –∫–≥ —Ñ—É–Ω–¥—É–∫–∞. –°–∫–æ–ª—å–∫–æ —Ñ—É–Ω–¥—É–∫–∞ –Ω—É–∂–Ω–æ –¥–ª—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è 27 –∫–≥ —Å–º–µ—Å–∏?" isCorrect={taskFeedback[9]} onCheck={() => checkTask(9)}>
                <div className="flex flex-col sm:flex-row items-center justify-center gap-6">
                  <input type="number" placeholder="?" value={taskStates[9] || ''} onChange={e => updateTaskState(9, e.target.value)} className="w-48 p-8 text-center text-5xl font-black bg-amber-50 border-4 border-amber-100 rounded-[2.5rem] text-amber-700 outline-none focus:border-amber-500"/>
                  <span className="text-2xl font-black text-gray-400 uppercase italic">–∫–≥ —Ñ—É–Ω–¥—É–∫–∞</span>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 10 */}
              <TaskCard taskNumber={10} description="–î–æ–Ω –∑–∞–¥—É–º–∞–ª –¥–≤–∞ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–ª–∞, –æ–¥–Ω–æ –Ω–∞ 3 –º–µ–Ω—å—à–µ –¥—Ä—É–≥–æ–≥–æ. –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ ‚Äî –¥–≤—É–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —á–∏—Å–ª–æ –µ–¥–∏–Ω–∏—Ü –≤ 4 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —á–∏—Å–ª–∞ –¥–µ—Å—è—Ç–∫–æ–≤." isCorrect={taskFeedback[10]} onCheck={() => checkTask(10)}>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-8 max-w-2xl mx-auto">
                   <div className="space-y-2"><p className="text-xs font-black text-blue-400 ml-4 uppercase tracking-widest">–ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ</p><input type="number" value={taskStates[10]?.v1 || ''} onChange={e => updateTaskState(10, { ...taskStates[10], v1: e.target.value })} className="w-full p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 outline-none"/></div>
                   <div className="space-y-2"><p className="text-xs font-black text-blue-400 ml-4 uppercase tracking-widest">–í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ</p><input type="number" value={taskStates[10]?.v2 || ''} onChange={e => updateTaskState(10, { ...taskStates[10], v2: e.target.value })} className="w-full p-8 text-center text-4xl font-black bg-blue-50 border-4 border-blue-100 rounded-[2.5rem] focus:border-blue-500 outline-none"/></div>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 11 */}
              <TaskCard taskNumber={11} description="–°–º–µ—Å—å: 4 –∫–≥ —è–±–ª–æ–∫, 3 –∫–≥ –≥—Ä—É—à, 1 –∫–≥ —á–µ—Ä–Ω–æ—Å–ª–∏–≤–∞ –∏ 2 –∫–≥ —É—Ä—é–∫–∞." isCorrect={taskFeedback[11]} onCheck={() => checkTask(11)}>
                <div className="space-y-12 max-w-2xl mx-auto">
                   <div className="bg-gray-50 p-8 rounded-[3rem] border-4 border-white shadow-inner">
                      <p className="text-gray-600 font-bold mb-6 italic text-center">–°–∫–æ–ª—å–∫–æ –∫–≥ —Å–º–µ—Å–∏ –ø–æ–ª—É—á–∏—Ç—Å—è, –µ—Å–ª–∏ –≤–∑—è–ª–∏ 12 –∫–≥ —É—Ä—é–∫–∞?</p>
                      <div className="flex items-center justify-center gap-4">
                        <input type="number" value={taskStates[11]?.v1 || ''} onChange={e => updateTaskState(11, {...taskStates[11], v1: e.target.value})} className="w-40 p-6 text-center text-4xl font-black bg-white rounded-3xl border-4 border-blue-100 outline-none focus:border-blue-500"/>
                        <span className="font-black text-xl text-gray-400 uppercase tracking-tighter">–∫–≥</span>
                      </div>
                   </div>
                   <div className="bg-gray-50 p-8 rounded-[3rem] border-4 border-white shadow-inner">
                      <p className="text-gray-600 font-bold mb-6 italic text-center">–°–∫–æ–ª—å–∫–æ –∫–≥ –≥—Ä—É—à –Ω—É–∂–Ω–æ –¥–ª—è 50 –∫–≥ —Å–º–µ—Å–∏?</p>
                      <div className="flex items-center justify-center gap-4">
                        <input type="number" value={taskStates[11]?.v2 || ''} onChange={e => updateTaskState(11, {...taskStates[11], v2: e.target.value})} className="w-40 p-6 text-center text-4xl font-black bg-white rounded-3xl border-4 border-blue-100 outline-none focus:border-blue-500"/>
                        <span className="font-black text-xl text-gray-400 uppercase tracking-tighter">–∫–≥</span>
                      </div>
                   </div>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 12 */}
              <TaskCard taskNumber={12} description="–°–º–µ—Å—å –æ—Ä–µ—Ö–æ–≤: 3 –∫–≥ –º–∏–Ω–¥–∞–ª—è, 3 –∫–≥ —Ñ—É–Ω–¥—É–∫–∞ –∏ 6 –∫–≥ –≥—Ä–µ—Ü–∫–∏—Ö –æ—Ä–µ—Ö–æ–≤." isCorrect={taskFeedback[12]} onCheck={() => checkTask(12)}>
                <div className="space-y-12 max-w-2xl mx-auto">
                   <div className="bg-gray-50 p-8 rounded-[3rem] border-4 border-white shadow-inner">
                      <p className="text-gray-600 font-bold mb-6 italic text-center">–°–∫–æ–ª—å–∫–æ –∫–≥ –º–∏–Ω–¥–∞–ª—è –Ω—É–∂–Ω–æ –¥–ª—è 4 –∫–≥ —Å–º–µ—Å–∏?</p>
                      <div className="flex items-center justify-center gap-4">
                        <input type="number" value={taskStates[12]?.v1 || ''} onChange={e => updateTaskState(12, {...taskStates[12], v1: e.target.value})} className="w-40 p-6 text-center text-4xl font-black bg-white rounded-3xl border-4 border-blue-100 outline-none focus:border-blue-500"/>
                        <span className="font-black text-xl text-gray-400 uppercase tracking-tighter">–∫–≥</span>
                      </div>
                   </div>
                   <div className="bg-gray-50 p-8 rounded-[3rem] border-4 border-white shadow-inner">
                      <p className="text-gray-600 font-bold mb-6 italic text-center">–°–∫–æ–ª—å–∫–æ –∫–≥ —Å–º–µ—Å–∏ –≤—ã–π–¥–µ—Ç –∏–∑ 8 –∫–≥ –≥—Ä–µ—Ü–∫–∏—Ö –æ—Ä–µ—Ö–æ–≤?</p>
                      <div className="flex items-center justify-center gap-4">
                        <input type="number" value={taskStates[12]?.v2 || ''} onChange={e => updateTaskState(12, {...taskStates[12], v2: e.target.value})} className="w-40 p-6 text-center text-4xl font-black bg-white rounded-3xl border-4 border-blue-100 outline-none focus:border-blue-500"/>
                        <span className="font-black text-xl text-gray-400 uppercase tracking-tighter">–∫–≥</span>
                      </div>
                   </div>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 13 */}
              <TaskCard taskNumber={13} description="–ó–∞–¥—É–º–∞–Ω–æ –¥–≤–∞ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–ª–∞, –æ–¥–Ω–æ –Ω–∞ 5 –±–æ–ª—å—à–µ –¥—Ä—É–≥–æ–≥–æ. –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ ‚Äî –¥–≤—É–∑–Ω–∞—á–Ω–æ–µ, —á–∏—Å–ª–æ –¥–µ—Å—è—Ç–∫–æ–≤ –≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ —á–∏—Å–ª–∞ –µ–¥–∏–Ω–∏—Ü. –ù–∞–π–¥–∏ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞." isCorrect={taskFeedback[13]} onCheck={() => checkTask(13)}>
                <div className="space-y-8 max-w-2xl mx-auto">
                  <div className="p-4 sm:p-6 bg-blue-50 rounded-[2.5rem] border-4 border-blue-100 shadow-md">
                    <div className="grid grid-cols-2 gap-4 sm:gap-6">
                      <input type="number" placeholder="X" value={taskStates[13]?.r1v1 || ''} onChange={e => updateTaskState(13, {...taskStates[13], r1v1: e.target.value})} className="w-full p-4 sm:p-6 border-4 border-white rounded-[1.5rem] text-gray-900 text-center font-black text-2xl sm:text-3xl outline-none focus:border-blue-400 shadow-inner"/>
                      <input type="number" placeholder="Y" value={taskStates[13]?.r1v2 || ''} onChange={e => updateTaskState(13, {...taskStates[13], r1v2: e.target.value})} className="w-full p-4 sm:p-6 border-4 border-white rounded-[1.5rem] text-gray-900 text-center font-black text-2xl sm:text-3xl outline-none focus:border-blue-400 shadow-inner"/>
                    </div>
                  </div>
                  <div className="p-4 sm:p-6 bg-purple-50 rounded-[2.5rem] border-4 border-purple-100 shadow-md">
                    <div className="grid grid-cols-2 gap-4 sm:gap-6">
                      <input type="number" placeholder="X" value={taskStates[13]?.r2v1 || ''} onChange={e => updateTaskState(13, {...taskStates[13], r2v1: e.target.value})} className="w-full p-4 sm:p-6 border-4 border-white rounded-[1.5rem] text-gray-900 text-center font-black text-2xl sm:text-3xl outline-none focus:border-purple-400 shadow-inner"/>
                      <input type="number" placeholder="Y" value={taskStates[13]?.r2v2 || ''} onChange={e => updateTaskState(13, {...taskStates[13], r2v2: e.target.value})} className="w-full p-4 sm:p-6 border-4 border-white rounded-[1.5rem] text-gray-900 text-center font-black text-2xl sm:text-3xl outline-none focus:border-purple-400 shadow-inner"/>
                    </div>
                  </div>
                </div>
              </TaskCard>

              {/* –ó–∞–¥–∞—á–∞ 14 */}
              <TaskCard taskNumber={14} description="–û–≤–æ—â–Ω–æ–π —Å–∞–ª–∞—Ç: 6 –∫–≥ –æ–≥—É—Ä—Ü–æ–≤, 4 –∫–≥ –ø–æ–º–∏–¥–æ—Ä–æ–≤, 2 –∫–≥ –º–æ—Ä–∫–æ–≤–∏ –∏ 2 –∫–≥ –ª—É–∫–∞." isCorrect={taskFeedback[14]} onCheck={() => checkTask(14)}>
                <div className="space-y-12 max-w-2xl mx-auto">
                   <div className="bg-gray-50 p-8 rounded-[3rem] border-4 border-white shadow-inner">
                      <p className="text-gray-600 font-bold mb-6 italic text-center">–°–∫–æ–ª—å–∫–æ –∫–≥ —Å–∞–ª–∞—Ç–∞ –ø–æ–ª—É—á–∏—Ç—Å—è –∏–∑ 5 –∫–≥ –º–æ—Ä–∫–æ–≤–∏?</p>
                      <div className="flex items-center justify-center gap-4">
                        <input type="number" value={taskStates[14]?.v1 || ''} onChange={e => updateTaskState(14, {...taskStates[14], v1: e.target.value})} className="w-40 p-6 text-center text-4xl font-black bg-white rounded-3xl border-4 border-blue-100 outline-none focus:border-blue-500"/>
                        <span className="font-black text-xl text-gray-400 uppercase tracking-tighter">–∫–≥</span>
                      </div>
                   </div>
                   <div className="bg-gray-50 p-8 rounded-[3rem] border-4 border-white shadow-inner">
                      <p className="text-gray-600 font-bold mb-6 italic text-center">–°–∫–æ–ª—å–∫–æ –∫–≥ –æ–≥—É—Ä—Ü–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è 21 –∫–≥ —Å–∞–ª–∞—Ç–∞?</p>
                      <div className="flex items-center justify-center gap-4">
                        <input type="number" value={taskStates[14]?.v2 || ''} onChange={e => updateTaskState(14, {...taskStates[14], v2: e.target.value})} className="w-40 p-6 text-center text-4xl font-black bg-white rounded-3xl border-4 border-blue-100 outline-none focus:border-blue-500"/>
                        <span className="font-black text-xl text-gray-400 uppercase tracking-tighter">–∫–≥</span>
                      </div>
                   </div>
                </div>
              </TaskCard>
            </main>

            {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–±–µ–¥—ã */}
            {progress === total && (
              <div className="fixed inset-0 z-[100] bg-blue-950/90 backdrop-blur-2xl flex items-center justify-center p-6 animate-in fade-in duration-700">
                <div className="bg-white p-20 border-[16px] border-yellow-400 rounded-[6rem] shadow-[0_0_100px_rgba(250,204,21,0.4)] text-center max-w-3xl transform scale-110 animate-bounce-light">
                  <div className="text-[10rem] mb-12 drop-shadow-2xl">üèÜ</div>
                  <h2 className="text-8xl font-black text-blue-900 mb-8 leading-none tracking-tighter">–ì–ï–ù–ò–ê–õ–¨–ù–û!</h2>
                  <p className="text-3xl font-black text-blue-500 mb-16 uppercase italic tracking-widest tracking-tighter">–¢—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à—ë–ª –≤—Å–µ {total} –∏—Å–ø—ã—Ç–∞–Ω–∏–π!</p>
                  <button onClick={() => window.location.reload()} className="bg-gradient-to-br from-yellow-400 to-yellow-600 text-yellow-950 px-20 py-8 rounded-[3rem] font-black text-3xl hover:scale-110 active:scale-95 shadow-[0_20px_0_rgba(202,138,4,1)] transition-all hover:translate-y-[-4px] active:translate-y-[10px] active:shadow-none">–ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û</button>
                </div>
              </div>
            )}
            
            <footer className="mt-40 text-center pb-20 opacity-30">
              <p className="text-blue-900 font-black uppercase tracking-[1em] text-sm italic">Standalone Math Master v4.1</p>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
